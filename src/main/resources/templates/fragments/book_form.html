<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>links</title>

    <link rel="stylesheet/less" type="text/css" href="../../static/less/style.less" data-th-href="@{/less/style.less}"/>
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.7.2/less.min.js" data-th-src="@{/js/less.min.js}"
            type="text/javascript"></script>

</head>
<body>
<div data-th-fragment="book_form" class="block-book_form container">
    <!--/*@thymesVar id="discount" type="ca.tidygroup.model.Discount"*/-->
    <form id="discountForm" th:action="@{/applyActivationCode}" method="post" data-th-object="${discount}"></form>
    <!--/*@thymesVar id="booking" type="ca.tidygroup.dto.BookingForm"*/-->
    <form id="bookingForm" th:action="@{/book}" method="post" data-th-object="${booking}">
        <div class="row">
            <div class="col-md-9">

                <div class="form-group row">
                    <div class="col-md-6">
                        <select class="form-control" data-th-field="*{cleaningPlan}" form="bookingForm">
                            <!--/*@thymesVar id="allPlans" type="java.util.List<ca.tidygroup.model.CleaningPlan>"*/-->
                            <th:block th:each="plan : ${allPlans}">
                                <option data-th-id="${{plan}}" data-th-value="${{plan}}"
                                        data-th-text="${plan.name}"></option>
                            </th:block>
                        </select>
                    </div>
                </div>

                <div class="form-inline row">
                    <div class="form-group col-md-6">
                        <label class="control-label">Number of bedrooms</label>
                        <select class="form-control" data-th-field="*{numberOfRooms}" form="bookingForm">
                            <option value="0">Studio</option>
                            <option value="1">1 Bedroom</option>
                            <option value="2">2 Bedrooms</option>
                            <option value="3">3 Bedrooms</option>
                            <option value="4">4 Bedrooms</option>
                        </select>
                        <span class="help-block" data-th-errors="*{numberOfRooms}">error</span>
                    </div>

                    <div class="form-group col-md-6">
                        <label class="control-label">Number of bathrooms</label>
                        <select class="form-control" data-th-field="*{numberOfBathrooms}" form="bookingForm">
                            <option value="1">1 bathroom</option>
                            <option value="2">2 bathrooms</option>
                            <option value="3">3 bathrooms</option>
                            <option value="4">4 bathrooms</option>
                        </select>
                        <span class="help-block" data-th-errors="*{numberOfBathrooms}">error</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label">Extra services</label>
                    <table>
                        <!--/*@thymesVar id="allOptions" type="java.util.List<ca.tidygroup.model.CleaningOption>"*/-->
                        <th:block th:each="option: ${allOptions}">
                            <tr>
                                <td>
                                    <input type="checkbox" data-th-id="${{option}}" data-th-value="${{option}}"
                                           data-th-field="*{cleaningOptions}" th:attr="data-price=${option.price}"
                                           form="bookingForm"/>
                                    <br/>
                                </td>
                                <td th:text="${option.name}"><br/></td>
                                <td th:text="${option.price}"><br/></td>
                            </tr>
                        </th:block>
                    </table>
                </div>
                <div class="form-group">
                    <label class="control-label">Special request</label>
                    <input class="form-control" type="text" data-th-field="*{specialRequest}" form="bookingForm"/>
                    <span class="help-block" data-th-errors="*{specialRequest}">error</span>
                </div>
                <div class="form-inline">
                    <div class="form-group">
                        <label class="control-label">Postcode</label>
                        <input class="form-control" type="text" data-th-field="*{postCode}" required="required"
                               form="bookingForm" placeholder="Zip Code"/>
                        <span class="help-block" data-th-errors="*{postCode}">error</span>
                    </div>

                    <div class="form-group">
                        <label class="control-label">City</label>
                        <input class="form-control" type="text" data-th-field="*{city}" disabled="disabled"
                               form="bookingForm"/>
                        <span class="help-block" data-th-errors="*{city}">error</span>
                    </div>

                    <div class="form-group">
                        <label class="control-label">Address</label>
                        <input class="form-control" type="text" data-th-field="*{address}" placeholder="Address"
                               form="bookingForm" required="required"/>
                        <span class="help-block" data-th-errors="*{address}">error</span>
                    </div>
                </div>
                <br/>
                <div class="form-inline row">
                    <div class="form-group col-md-6">
                        <label class="control-label col-md-4">First name</label>
                        <input class="form-control col-md-8" type="text" data-th-field="*{firstName}"
                               required="required" form="bookingForm" placeholder="First name"/>
                        <span class="help-block" data-th-errors="*{firstName}">error</span>
                    </div>

                    <div class="form-group col-md-6">
                        <label class="control-label col-md-4">Last name</label>
                        <input class="form-control col-md-8" type="text" data-th-field="*{lastName}" required="required"
                               placeholder="Last name" form="bookingForm"/>
                        <span class="help-block" data-th-errors="*{lastName}">error</span>
                    </div>
                </div>
                <br/>
                <div class="form-inline row">
                    <div class="form-group col-md-6">
                        <label class="control-label col-md-4">Email</label>
                        <input class="form-control col-md-8" type="email" data-th-field="*{email}" required="required"
                               placeholder="Email" form="bookingForm"/>
                        <span class="help-block" data-th-errors="*{email}">error</span>
                    </div>

                    <div class="form-group col-md-6">
                        <label class="control-label col-md-4">Phone</label>
                        <input class="form-control col-md-8" type="tel" data-th-field="*{phone}" required="required"
                               placeholder="Phone" form="bookingForm"/>
                        <span class="help-block" data-th-errors="*{phone}">error</span>
                    </div>
                </div>
                <br/>

                <div class="form-group row">
                    <div class="col-md-6" th:if="${booking.discount != null}">
                        <label class="control-label">Discount</label>
                        <input class="form-control" type="number" data-th-field="${booking.discount}"
                               form="bookingForm" readonly="readonly"/>
                        <span class="help-block" data-th-errors="${booking.discount}">error</span>
                    </div>
                    <div class="col-md-6" th:if="${booking.discount == null}">
                        <label class="control-label">Discount</label>
                        <input class="form-control" type="text" form="discountForm" data-th-field="${discount.code}"/>
                        <input class="form-control" type="submit" form="discountForm"/>
                        <span class="help-block" data-th-errors="${discount.code}">error</span>
                    </div>
                </div>

                <div class="form-inline row">
                    <div class="form-group col-md-6">
                        <label class="control-label">Date of cleaning</label>
                        <input class="form-control" type="date" data-th-field="*{cleaningDate}" form="bookingForm"/>
                        <span class="help-block" data-th-errors="*{cleaningDate}">error</span>
                    </div>

                    <div class="form-group col-md-6">
                        <label class="control-label">Time of cleaning</label>
                        <input class="form-control" type="time" data-th-field="*{cleaningTime}" form="bookingForm"/>
                        <span class="help-block" data-th-errors="*{cleaningTime}">error</span>
                    </div>
                </div>
                <br/>
                <input class="form-control" type="submit" form="bookingForm"/>
            </div>
            <div class="col-md-3">
                <h4>BOOKING SUMMARY</h4>
                <div class="form-group row">
                    <label class="control-label col-md-6">SUB-TOTAL</label>
                    <span class="booking-price price col-md-6">100</span>
                </div>
                <div class="form-group row">
                    <label class="control-label col-md-6 ">SALES TAX</label>
                    <span class="booking-price-tax price col-md-6">10</span>
                </div>
                <div class="form-group row">
                    <label class="control-label col-md-6">TOTAL</label>
                    <span class="booking-price-total price col-md-6">110</span>
                </div>
            </div>
        </div>
    </form>

    <script src="../../static/js/booking.js" data-th-src="@{/js/booking.js}" type="text/javascript"></script>
</div>

</body>
</html>